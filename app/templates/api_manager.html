{% extends 'base.html' %}

{% block content %}  
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">   
<link rel="stylesheet" href="{{ url_for('static', filename='css/api_manager/introduction_section.css') }}">   
<link rel="stylesheet" href="{{ url_for ('static', filename='css/api_manager/manager-api_box.css') }}">
<link rel="stylesheet" href="{{ url_for ('static', filename='css/api_manager/res_box.css') }}">
<link rel="stylesheet" href="{{ url_for ('static', filename='css/api_manager/view-raw_link.css') }}">
<link rel="stylesheet" href="{{ url_for ('static', filename='css/guide/guide.css') }}">
<link rel="stylesheet" href="{{ url_for ('static', filename='css/guide/api_info.css') }}">
<link rel="stylesheet" href="{{ url_for ('static', filename='css/guide/instructions.css') }}">
  <section class="introduction__section">
     <div class="introduction__content">
         <h1 class="introduction__title">NiceeApi</h1>
         <button class="introduction__btn itd__btn-guide">Guide</button>
     </div>
  </section>

  <section class="guide__section">
     {% include 'guide.html' %}
  </section>

  <div class="manager-api__box">
      <form action="{{ url_for('api_v1.main') }}" autocomplete="off">
          <label for="url" class="manager-api__ipt-url-predefined" name="default-url">
            https://niceeapi.herokuapp.com/api/v1
          </label>

          <input type="text" class="manager-api__input" id="url" name="url" list="url_list" value="get_apidata">

          <select class="manager-api__type-request" name="type-request">
            <option>GET</option>
            <option>POST</option>
            <option>PUT</option>
            <option>DELETE</option>
          </select>
          <input type="submit" class="manager-api__submit" value="submit">

          <div class="manager-api__request-fields">
             <input type="text" class="name" placeholder="name..." name="name">
             <input type="text" class="email" placeholder="email..." name="email">
          </div>
   
          <select class="manager-api__select-user" name="selected-user" title="é preciso fazer um GET antes para que se obtenha os dados dos usuários">
              <!--esse select será para o usuário selecionar o usuário para deletá-lo ou exclui-lo-->
                 <option selected>Selecione um usuário para alterá-lo ou deletá-lo</option>
              {% for user in users %}
                 <option>{{ user['email'] }}</option>
              {% endfor %}
          </select>
      </form>
  </div>

  {% if users: %}
       <!--Resultado da requisição: -->
      <div class="res__box">
         {% if users[0]['email'] %}
            <!--Essa comparação serve para verificar se o res_json contém dados de usuários (ele pode conter dado de requisição também)-->
            {% for user in users %}
               <pre>
               {{ user }} 
               </pre>
            {% endfor %}
         {% endif %}
      </div>
      <a href="{{ url_for('api_v1.get_apidata') }}" class="view-raw__link" target="blank">View Raw</a>
  {% endif %}

  <script src="{{ url_for('static', filename='js/api_manager/type-request.js') }}"></script>
  <script src="{{ url_for('static', filename='js/guide/ToggleGuideDisplay.js') }}"></script>
  <script src="{{ url_for('static', filename='js/guide/ToggleInstructionsDisplay.js') }}"></script>

  {% if request_detail != "" and request_detail != null %}
     <script>
         alert("{{ request_detail }}")
     </script>
  {% endif %}

{% endblock %}